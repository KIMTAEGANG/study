<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--    <form id="joinForm">-->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <div>
            <fieldset>
                <legend>회원가입</legend>
                <label  title="아이디"><input id="userId" name="userId" placeholder="아이디" value="" type="text"></label>
                <label  title="비밀번호"><input id="password" name="password" autocomplete="off" value="" type="password" placeholder="비밀번호"></label>
                <label  title="회원명"><input id="userName" name="userName" value="" type="text" placeholder="회원명"></label>
                <label  title="이메일"><input id="email" name="email" value="" type="text" placeholder="이메일"></label>
                <button id="joinBtn" type="button">가입</button>
                <!--<ul>
                    <li><a href="">아이디찾기</a></li>
                    <li><a href="">비밀번호찾기</a></li>
                    <li><a href="">회원가입</a></li>
                </ul>-->
            </fieldset>
        </div>
<!--    </form>-->
</body>
<script>
    const btn = document.querySelector("#joinBtn");
    btn.addEventListener('click', () => {
        const data = {
            "userId": document.querySelector("#userId").value,
            "password": document.querySelector("#password").value,
            "userName": document.querySelector("#userName").value,
            "email": document.querySelector("#email").value,
        }
        callAjax('/signUp', 'POST', data);
    });


    callAjax = (url, method, data) => {
        const ajax = new XMLHttpRequest();
        ajax.timeout = 1500;
        ajax.open(method, url);
        ajax.setRequestHeader("Content-Type", "application/json");
        ajax.send(JSON.stringify(data));
    }


</script>
</html>